<div class="profile-container">
  <div class="profile-card">
    <h1>{{ isNewProfile() ? 'Create Your Profile' : 'Edit Your Profile' }}</h1>
    <p class="subtitle">Tell us about yourself</p>

    <form (ngSubmit)="onSubmit()">
      @if (errorMessage()) {
        <div class="error-message">{{ errorMessage() }}</div>
      }
      @if (successMessage()) {
        <div class="success-message">{{ successMessage() }}</div>
      }

      <!-- Photo -->
      <div class="form-group">
        <label for="profilePhoto">Profile Photo URL</label>
        <input
          type="url"
          id="profilePhoto"
          [(ngModel)]="profilePhoto"
          name="profilePhoto"
          placeholder="https://example.com/photo.jpg"
        />
        @if (profilePhoto()) {
          <div class="photo-preview">
            <img [src]="profilePhoto()" alt="Profile preview" />
          </div>
        }
        <small>For now, enter a photo URL. Upload feature coming soon!</small>
      </div>

      <!-- First Name -->
      <div class="form-group">
        <label for="firstName">First Name *</label>
        <input
          type="text"
          id="firstName"
          [(ngModel)]="firstName"
          name="firstName"
          placeholder="Your first name"
          required
        />
      </div>

      <!-- Birth Date -->
      <div class="form-group">
        <label for="birthDate">Birth Date *</label>
        <input
          type="date"
          id="birthDate"
          [(ngModel)]="birthDate"
          name="birthDate"
          required
        />
        @if (getAge() > 0) {
          <small>Age: {{ getAge() }} years old</small>
        }
      </div>

      <!-- Gender -->
      <div class="form-group">
        <label for="gender">I am *</label>
        <select id="gender" [(ngModel)]="gender" name="gender" required>
          <option value="male">Man</option>
          <option value="female">Woman</option>
          <option value="other">Other</option>
        </select>
      </div>

      <!-- Looking For -->
      <div class="form-group">
        <label for="lookingFor">Looking for *</label>
        <select id="lookingFor" [(ngModel)]="lookingFor" name="lookingFor" required>
          <option value="male">Men</option>
          <option value="female">Women</option>
          <option value="other">Other</option>
          <option value="all">Everyone</option>
        </select>
      </div>

      <!-- Location -->
      <div class="form-group">
        <label for="location">Location</label>
        <input
          type="text"
          id="location"
          [(ngModel)]="location"
          name="location"
          placeholder="City, Country"
        />
      </div>

      <!-- Bio -->
      <div class="form-group">
        <label for="bio">About Me</label>
        <textarea
          id="bio"
          [(ngModel)]="bio"
          name="bio"
          rows="4"
          placeholder="Tell us about yourself, your hobbies, what you're looking for..."
          maxlength="500"
        ></textarea>
        <small>{{ bio().length }}/500 characters</small>
      </div>

      <!-- Interests -->
      <div class="form-group">
        <label for="interests">Interests</label>
        <input
          type="text"
          id="interests"
          [(ngModel)]="interests"
          name="interests"
          placeholder="Music, Travel, Sports, Reading..."
        />
        <small>Separate with commas</small>
      </div>

      <button type="submit" class="btn-primary" [disabled]="isLoading()">
        {{ isLoading() ? 'Saving...' : (isNewProfile() ? 'Create Profile' : 'Update Profile') }}
      </button>
    </form>
  </div>
</div>
